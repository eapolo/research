<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Enrique Apolo-Apolo</title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css">

    <style>
        .accordion-button i {
            margin-right: 8px;
        }
    </style>
</head>

<body>

<!-- ======= Publications Section ======= -->
<section id="publications" class="publications py-5">
    <div class="container">
        <div class="section-title text-center mb-4">
            <h2>Publications</h2>
            <p>Explore my latest journal papers, conference proceedings, books, and book chapters.</p>
        </div>

        <div class="accordion" id="publicationsAccordion">

            <!-- Journal Papers -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingJournalPapers">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseJournalPapers">
                        <i class="bi bi-journal-text"></i> Journal Papers
                    </button>
                </h2>
                <div id="collapseJournalPapers" class="accordion-collapse collapse">
                    <div class="accordion-body">Loading journal papers...</div>
                </div>
            </div>

            <!-- Conference Proceedings -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingConferenceProceedings">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseConferenceProceedings">
                        <i class="bi bi-card-list"></i> Conference Proceedings
                    </button>
                </h2>
                <div id="collapseConferenceProceedings" class="accordion-collapse collapse">
                    <div class="accordion-body">Loading conference proceedings...</div>
                </div>
            </div>

            <!-- Books -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingBooks">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBooks">
                        <i class="bi bi-book"></i> Books
                    </button>
                </h2>
                <div id="collapseBooks" class="accordion-collapse collapse">
                    <div class="accordion-body">Loading books...</div>
                </div>
            </div>

            <!-- Book Chapters -->
            <div class="accordion-item">
                <h2 class="accordion-header" id="headingBookChapters">
                    <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapseBookChapters">
                        <i class="bi bi-book-half"></i> Book Chapters
                    </button>
                </h2>
                <div id="collapseBookChapters" class="accordion-collapse collapse">
                    <div class="accordion-body">Loading book chapters...</div>
                </div>
            </div>

        </div>
    </div>
</section>

<!-- JavaScript to Fetch and Display Publications -->
<script>
document.addEventListener("DOMContentLoaded", function () {
    fetch("assets/papers/publications.json")
      .then(response => response.json())
      .then(data => {
        let journalContainer = document.getElementById("collapseJournalPapers").querySelector(".accordion-body");
        let conferenceContainer = document.getElementById("collapseConferenceProceedings").querySelector(".accordion-body");
        let booksContainer = document.getElementById("collapseBooks").querySelector(".accordion-body");
        let bookChaptersContainer = document.getElementById("collapseBookChapters").querySelector(".accordion-body");

        journalContainer.innerHTML = "";
        conferenceContainer.innerHTML = "";
        booksContainer.innerHTML = "";
        bookChaptersContainer.innerHTML = "";

        if (data.length === 0) {
            journalContainer.innerHTML = "<p>No journal papers available.</p>";
            conferenceContainer.innerHTML = "<p>No conference proceedings available.</p>";
            booksContainer.innerHTML = "<p>No books available.</p>";
            bookChaptersContainer.innerHTML = "<p>No book chapters available.</p>";
            return;
        }

        // Sort publications by year (newest first)
        data.sort((a, b) => parseInt(b.year) - parseInt(a.year));

        data.forEach((paper, index) => {
          let paperHTML = `
            <div class="mb-3">
              <strong>${index + 1}. ${paper.title}</strong> <br>
              <em>${paper.author}</em> (${paper.year}) <br>
              ${paper.journal ? `<i>${paper.journal}</i>.` : ""}
              ${paper.conference ? `<i>${paper.conference}</i>.` : ""}
              ${paper.publisher ? `<i>${paper.publisher}</i>.` : ""}
              ${paper.doi ? ` <a href="https://doi.org/${paper.doi}" target="_blank">DOI</a>` : ""}
              ${paper.url ? ` <a href="${paper.url}" target="_blank">Read More</a>` : ""}
            </div>
            <hr>
          `;

          if (paper.type === "article") {
            journalContainer.innerHTML += paperHTML;
          } else if (paper.type === "inproceedings") {
            conferenceContainer.innerHTML += paperHTML;
          } else if (paper.type === "book") {
            booksContainer.innerHTML += paperHTML;
          } else if (paper.type === "incollection") {
            bookChaptersContainer.innerHTML += paperHTML;
          }
        });
      })
      .catch(error => console.error("Error loading publications:", error));
});
</script>

<!-- Bootstrap JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

</body>
</html>
